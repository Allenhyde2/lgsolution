<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì†”ë£¨ì…˜ ê°œë°œ ì¼ì • Final Compact</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        
        table { 
            border-collapse: collapse; 
            width: 100%; 
            table-layout: fixed; 
        }

        /* [í•µì‹¬] ëª¨ë“  ì…€ì˜ ê¸°ë³¸ ì¤„ê°„ê²©ì„ 1ë¡œ ì„¤ì •í•˜ì—¬ ë¶ˆí•„ìš”í•œ ê³µë°± ì œê±° */
        td, th {
            padding: 1px 4px; /* ì¢Œìš° 4px, ìƒí•˜ 1px (ê·¹ì†Œ) */
            line-height: 1;   /* ì¤„ ë†’ì´ 100% (ê¸€ì í¬ê¸°ë§Œí¼ë§Œ ì°¨ì§€) */
            vertical-align: middle;
            font-size: 11px;
        }

        /* í…ìŠ¤íŠ¸ê°€ ë“¤ì–´ê°€ëŠ” ì…€ë§Œ ê°€ë…ì„±ì„ ìœ„í•´ ì‚´ì§ ì¤„ê°„ê²© ë¶€ì—¬ */
        .text-cell {
            line-height: 1.15; /* ì—¬ëŸ¬ ì¤„ì¼ ë•Œ ìµœì†Œí•œì˜ ê°„ê²© */
            word-break: keep-all;
        }

        /* ê°„íŠ¸ ì°¨íŠ¸ ë°”: í…ìŠ¤íŠ¸ ë†’ì´ì™€ ì´ì§ˆê°ì´ ì—†ë„ë¡ ë†’ì´ ì¡°ì • */
        .gantt-bar {
            height: 8px; /* í…ìŠ¤íŠ¸ í•œ ì¤„ ë†’ì´(ì•½ 11~12px)ë³´ë‹¤ ì‘ê²Œ ì„¤ì •í•˜ì—¬ í–‰ ë†’ì´ ì˜í–¥ X */
            border-radius: 2px;
            width: 100%;
        }

        /* Phase í…ìŠ¤íŠ¸ ì„¸ë¡œ ì •ë ¬ */
        .phase-text {
            writing-mode: vertical-rl;
            text-orientation: mixed;
            transform: rotate(180deg);
            text-align: center;
            font-size: 10px;
            letter-spacing: 1px;
            /* Flexë¥¼ ì‚¬ìš©í•˜ì—¬ ë†’ì´ ê½‰ ì±„ì›€ ë°©ì§€ */
            display: inline-block; 
        }

        .border-r { border-right: 1px solid #e2e8f0; }
        .border-b { border-bottom: 1px solid #e2e8f0; }
        .border-double-b { border-bottom: 3px double #94a3b8; }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 p-4">

    <div class="max-w-[1800px] mx-auto bg-white border border-gray-400 shadow-sm">
        <!-- Header -->
        <div class="bg-slate-800 text-white px-3 py-1.5 flex justify-between items-center h-8">
            <h1 class="font-bold text-xs">ğŸ“… ê°œë°œ ì¼ì • (Height Optimized)</h1>
            <div class="flex gap-3 text-[10px]">
                <div class="flex items-center gap-1"><span class="w-2 h-2 bg-blue-500 rounded-sm"></span>Dev A</div>
                <div class="flex items-center gap-1"><span class="w-2 h-2 bg-emerald-500 rounded-sm"></span>Dev B</div>
            </div>
        </div>

        <div class="overflow-x-auto">
            <table>
                <colgroup>
                    <col style="width: 25px;"> <!-- Phase -->
                    <col style="width: 70px;"> <!-- ê·¸ë£¹ -->
                    <col style="width: auto;"> <!-- ìƒì„¸ -->
                    <col style="width: 35px;"> <!-- ë‚œì´ë„ -->
                    <col style="width: 45px;"> <!-- ë‹´ë‹¹ -->
                    <!-- ì£¼ì°¨ (12ê°œ) -->
                    <col span="12" style="width: 2.8%;">
                </colgroup>

                <thead class="bg-slate-100 text-slate-800 font-bold text-[10px] border-b border-slate-300">
                    <tr class="h-6 bg-slate-200">
                        <th rowspan="2" class="border-r border-slate-400">Ph</th>
                        <th rowspan="2" class="border-r border-slate-400">ê·¸ë£¹</th>
                        <th rowspan="2" class="border-r border-slate-400 text-left">ìƒì„¸ ì—…ë¬´</th>
                        <th rowspan="2" class="border-r border-slate-400">ë‚œì´ë„</th>
                        <th rowspan="2" class="border-r border-slate-400">ë‹´ë‹¹</th>
                        <th colspan="4" class="border-r border-slate-400 bg-indigo-100 text-indigo-900">Month 1</th>
                        <th colspan="4" class="border-r border-slate-400 bg-pink-100 text-pink-900">Month 2</th>
                        <th colspan="4" class="bg-amber-100 text-amber-900">Month 3</th>
                    </tr>
                    <tr class="h-4 bg-slate-50">
                        <th class="border-r border-slate-300">1</th><th class="border-r border-slate-300">2</th><th class="border-r border-slate-300">3</th><th class="border-r border-slate-400">4</th>
                        <th class="border-r border-slate-300">1</th><th class="border-r border-slate-300">2</th><th class="border-r border-slate-300">3</th><th class="border-r border-slate-400">4</th>
                        <th class="border-r border-slate-300">1</th><th class="border-r border-slate-300">2</th><th class="border-r border-slate-300">3</th><th>4</th>
                    </tr>
                </thead>
                <tbody id="schedule-body"></tbody>
            </table>
        </div>
    </div>

    <script>
        const phases = [
            {
                id: "P1",
                rows: [
                    { group: "ê³µí†µ/íšŒì›", task: "ì¢‹ì•„ìš”/íŒ”ë¡œìš°, ì»¨í…ì¸  ì‚­ì œ/ì‹ ê³ , í”„ë¡œí•„ ë“±ë¡", difficulty: "í•˜", dev: "Dev A", start: 1, duration: 1 },
                    { group: "ê´€ë¦¬ì", task: "ë©”íƒ€ë°ì´í„°(íƒœê·¸/ë°°ì§€) ë° ë©”ì¸ ë°°ë„ˆ ê´€ë¦¬", difficulty: "í•˜", dev: "Dev B", start: 1, duration: 1 },
                    { group: "ë§ˆì´í™ˆ", task: "í™œë™ì •ë³´, ì‘ì„±ê¸€/íŒ”ë¡œìš° ê´€ë¦¬, ì•Œë¦¼ ì„¤ì • UI", difficulty: "í•˜", dev: "Dev A", start: 2, duration: 1 },
                    { group: "ê´€ë¦¬ì", task: "í¬ë¦¬ì—ì´í„° ê´€ë¦¬, ì‹ ê³  íšŒì›/ê¸ˆì¹™ì–´ ì„¤ì •", difficulty: "í•˜", dev: "Dev B", start: 2, duration: 1 },
                    { group: "ì¡°íšŒ", task: "ë§¤ê±°ì§„/ìŠ¤í† ë¦¬ ìƒì„¸ ë° ëª©ë¡, ë¦¬ë·° ëª©ë¡ ì¡°íšŒ", difficulty: "í•˜", dev: "Dev A", start: 3, duration: 1 },
                    { group: "ê´€ë¦¬ì", task: "ì¸ê¸° ì½˜í…ì¸  íë ˆì´ì…˜, ì‹ ê³  ê²Œì‹œë¬¼ ì²˜ë¦¬", difficulty: "í•˜", dev: "Dev B", start: 3, duration: 1 },
                    { group: "ì»¤ë®¤ë‹ˆí‹°", task: "ëŒ“ê¸€/ëŒ€ëŒ“ê¸€ CRUD, ë¦¬ë·° ë“±ë¡/ìˆ˜ì •", difficulty: "í•˜", dev: "Dev A", start: 4, duration: 1 },
                    { group: "ê´€ë¦¬ì", task: "íˆ¬í‘œ/Q&A ë‚´ì—­ ì¡°íšŒ, ê´€ë¦¬ì ì•Œë¦¼", difficulty: "í•˜", dev: "Dev B", start: 4, duration: 1 }
                ]
            },
            {
                id: "P2",
                rows: [
                    { group: "í¬ìŠ¤íŠ¸", task: "í¬ìŠ¤íŠ¸ CRUD (ë¯¸ë””ì–´ ì²˜ë¦¬), SNS ê³µìœ ", difficulty: "ìƒ", dev: "Dev A", start: 5, duration: 1 },
                    { group: "Q&A/íˆ¬í‘œ", task: "Q&A/íˆ¬í‘œ ë¡œì§(A/B), í¬ì¸íŠ¸ ì •ì±… ìˆ˜ë¦½", difficulty: "ìƒ", dev: "Dev B", start: 5, duration: 1 },
                    { group: "ë©”ì¸/í”¼ë“œ", task: "ì¸ê¸° ì½˜í…ì¸  ì•Œê³ ë¦¬ì¦˜, ê°œì¸í™” ëª©ë¡ ì¡°íšŒ", difficulty: "ìƒ", dev: "Dev A", start: 6, duration: 1 },
                    { group: "í¬ì¸íŠ¸", task: "í¬ì¸íŠ¸ ì ë¦½/ì‚¬ìš© ë¬´ê²°ì„±, ì´ë²¤íŠ¸ ì°¸ì—¬ ë¡œì§", difficulty: "ìƒ", dev: "Dev B", start: 6, duration: 1 },
                    { group: "ê²€ìƒ‰", task: "í†µí•© ê²€ìƒ‰ ì—”ì§„(ES) ì—°ë™, ì¹´í…Œê³ ë¦¬ í•„í„°ë§", difficulty: "ìƒ", dev: "Dev A", start: 7, duration: 1 },
                    { group: "ë°°ì¹˜/ì•Œë¦¼", task: "íˆ¬í‘œ/ì´ë²¤íŠ¸ ì¢…ë£Œ ë°°ì¹˜, ê´€ë¦¬ì ì´ë²¤íŠ¸ ìƒì„±", difficulty: "ìƒ", dev: "Dev B", start: 7, duration: 1 },
                    { group: "ì±„íŒ…(1)", task: "ì±„íŒ…ë°© ìƒì„±/ì„¤ì •, ì°¸ì—¬ì ëª©ë¡ ê´€ë¦¬", difficulty: "ìƒ", dev: "Dev A", start: 8, duration: 1 },
                    { group: "í€˜ìŠ¤íŠ¸(1)", task: "í€˜ìŠ¤íŠ¸ ìƒì„±/ì¡°ê±´ ì„¤ì • ì—”ì§„ êµ¬í˜„", difficulty: "ìƒ", dev: "Dev B", start: 8, duration: 1 },
                    { group: "ì±„íŒ…(2)", task: "ì‹¤ì‹œê°„ ë©”ì‹œì§€(Socket), ì±„íŒ… ì‹ ê³  ì²˜ë¦¬", difficulty: "ìƒ", dev: "Dev A", start: 9, duration: 1 },
                    { group: "í€˜ìŠ¤íŠ¸(2)", task: "ë¦¬ì›Œë“œ ìë™ ì§€ê¸‰, ì»¤ìŠ¤í…€ ë´‡ ì—°ë™", difficulty: "ìƒ", dev: "Dev B", start: 9, duration: 1 },
                    { group: "ë´‡/ë§ˆë¬´ë¦¬", task: "ì‹ ê·œ ê°€ì… ë´‡ UI, UX ê°œì„ ", difficulty: "ì¤‘", dev: "Dev A", start: 10, duration: 1 },
                    { group: "ì•ˆì •í™”", task: "ëŒ€ìš©ëŸ‰ ì¿¼ë¦¬ íŠœë‹, ì¸ë±ì‹± ìµœì í™”", difficulty: "ì¤‘", dev: "Dev B", start: 10, duration: 1 }
                ]
            },
            {
                id: "P3",
                rows: [
                    { group: "QA", task: "í†µí•© í…ŒìŠ¤íŠ¸, ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸, ë²„ê·¸ ìˆ˜ì •", difficulty: "ì¤‘", dev: "ê³µí†µ", start: 11, duration: 1 },
                    { group: "ë°°í¬", task: "í”„ë¡œë•ì…˜ ë°°í¬, ëª¨ë‹ˆí„°ë§ êµ¬ì¶•", difficulty: "ì¤‘", dev: "ê³µí†µ", start: 12, duration: 1 }
                ]
            }
        ];

        const tbody = document.getElementById('schedule-body');

        phases.forEach((phase, phaseIndex) => {
            const isLastPhase = phaseIndex === phases.length - 1;
            
            phase.rows.forEach((row, rowIndex) => {
                const tr = document.createElement('tr');
                const isPhaseEnd = rowIndex === phase.rows.length - 1;
                // í•˜ë‹¨ ë³´ë” ì„¤ì •: Phase ëì´ë©´ ì´ì¤‘ì„ , ì•„ë‹ˆë©´ ì¼ë°˜ì„ 
                tr.className = isPhaseEnd && !isLastPhase ? 'border-double-b' : 'border-b';
                tr.className += " hover:bg-yellow-50";

                // Lv1: Phase (Rowspan)
                if (rowIndex === 0) {
                    const thPhase = document.createElement('td');
                    thPhase.rowSpan = phase.rows.length;
                    thPhase.className = "border-r border-slate-300 bg-slate-100 text-center align-middle p-0";
                    thPhase.innerHTML = `<span class="phase-text font-bold text-slate-500">${phase.id}</span>`;
                    tr.appendChild(thPhase);
                }

                // Lv2: Group
                tr.innerHTML += `<td class="border-r border-slate-200 text-center font-medium text-slate-700 text-cell">${row.group}</td>`;
                
                // Lv3: Task
                tr.innerHTML += `<td class="border-r border-slate-200 text-slate-600 text-cell">${row.task}</td>`;
                
                // Lv4: Difficulty
                let diffClass = row.difficulty === "ìƒ" ? "text-red-600" : (row.difficulty === "ì¤‘" ? "text-amber-600" : "text-blue-600");
                tr.innerHTML += `<td class="border-r border-slate-200 text-center font-bold ${diffClass}">${row.difficulty}</td>`;
                
                // Lv5: Developer
                let devColor = row.dev.includes("Dev A") ? "text-blue-600 font-bold" : (row.dev.includes("Dev B") ? "text-emerald-600 font-bold" : "text-gray-400");
                // Dev A -> Aë¡œ ì¶•ì•½í•˜ì—¬ í‘œì‹œ
                let devName = row.dev.replace("Dev ", "");
                tr.innerHTML += `<td class="border-r border-slate-300 text-center ${devColor}">${devName}</td>`;

                // Gantt Chart Cells
                for (let w = 1; w <= 12; w++) {
                    let cellClass = "text-center p-0 align-middle"; // p-0 ì¬ê°•ì¡°
                    let borderClass = (w % 4 === 0) ? "border-r border-slate-300" : "border-r border-slate-100";
                    
                    let content = "";
                    if (w >= row.start && w < row.start + row.duration) {
                        let barColor = "bg-gray-300";
                        if (row.dev.includes("Dev A")) barColor = "bg-blue-500";
                        if (row.dev.includes("Dev B")) barColor = "bg-emerald-500";
                        // bar ë†’ì´ 8px
                        content = `<div class="gantt-bar ${barColor} mx-auto"></div>`;
                    }
                    tr.innerHTML += `<td class="${cellClass} ${borderClass}">${content}</td>`;
                }
                tbody.appendChild(tr);
            });
        });
    </script>
</body>
</html>
