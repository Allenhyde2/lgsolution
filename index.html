<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì†”ë£¨ì…˜ ê°œë°œ ì¼ì • ëŒ€ì‹œë³´ë“œ V2</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        
        /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        th, td { vertical-align: middle; }
        
        /* Phase êµ¬ë¶„ì„  ìŠ¤íƒ€ì¼ (ì´ì¤‘ ì‹¤ì„ ) */
        .phase-divider {
            border-bottom: 4px double #cbd5e1; /* ì´ì¤‘ ì‹¤ì„  */
        }

        /* ê°„íŠ¸ ì°¨íŠ¸ ë°” ì• ë‹ˆë©”ì´ì…˜ */
        .gantt-bar {
            transition: all 0.3s ease;
            position: relative;
        }
        .gantt-bar:hover {
            transform: scaleY(1.1);
            filter: brightness(0.95);
            z-index: 10;
        }

        /* Phase ì…€ í…ìŠ¤íŠ¸ ì„¸ë¡œ ì •ë ¬ */
        .phase-cell {
            writing-mode: vertical-rl;
            text-orientation: mixed;
            transform: rotate(180deg);
            white-space: nowrap;
            letter-spacing: 2px;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 p-8">

    <div class="max-w-[1800px] mx-auto bg-white shadow-2xl rounded-xl overflow-hidden border border-gray-200">
        <!-- Header -->
        <div class="bg-slate-800 text-white p-6 flex justify-between items-center border-b-4 border-slate-600">
            <div>
                <h1 class="text-2xl font-bold flex items-center gap-2">
                    <span>ğŸ“…</span> ì†”ë£¨ì…˜ ê¸°ëŠ¥ ê°œë°œ ì¼ì •í‘œ (WBS)
                </h1>
                <p class="text-slate-300 text-sm mt-1 ml-1">Phase ì¤‘ì‹¬ ê°œë°œ ê³„íš | ì´ 12ì£¼ (3ê°œì›”)</p>
            </div>
            
            <!-- Legend -->
            <div class="flex gap-6 text-sm bg-slate-700 px-4 py-2 rounded-lg">
                <div class="flex items-center gap-2">
                    <span class="w-3 h-3 bg-blue-500 rounded shadow"></span>
                    <span class="font-medium text-blue-100">Dev A (Front/User)</span>
                </div>
                <div class="flex items-center gap-2">
                    <span class="w-3 h-3 bg-emerald-500 rounded shadow"></span>
                    <span class="font-medium text-emerald-100">Dev B (Back/Admin)</span>
                </div>
                <div class="flex items-center gap-2">
                    <span class="w-3 h-3 bg-gray-400 rounded shadow"></span>
                    <span class="text-gray-300">ê³µí†µ/ê¸°íƒ€</span>
                </div>
            </div>
        </div>

        <!-- Table Container -->
        <div class="overflow-x-auto">
            <table class="w-full text-sm border-collapse">
                <thead class="bg-slate-50 text-slate-700 font-bold border-b-2 border-slate-300">
                    <!-- 1st Header Row: Columns and Month Groups -->
                    <tr>
                        <th rowspan="2" class="p-3 border-r border-slate-300 w-16 bg-slate-100">Lv1<br>Phase</th>
                        <th rowspan="2" class="p-3 border-r border-slate-300 w-32">Lv2<br>ê¸°ëŠ¥ ê·¸ë£¹</th>
                        <th rowspan="2" class="p-3 border-r border-slate-300 min-w-[300px] text-left">Lv3<br>ìƒì„¸ ì—…ë¬´ ë° ë‚´ì—­</th>
                        <th rowspan="2" class="p-3 border-r border-slate-300 w-20">Lv4<br>ë‚œì´ë„</th>
                        <th rowspan="2" class="p-3 border-r border-slate-300 w-24">Lv5<br>ë‹´ë‹¹ì</th>
                        
                        <!-- Month Headers -->
                        <th colspan="4" class="p-2 border-r border-slate-300 bg-indigo-50 text-indigo-800 border-b border-indigo-200">Month 1 (ê¸°ì´ˆ/êµ¬ì¡°)</th>
                        <th colspan="4" class="p-2 border-r border-slate-300 bg-pink-50 text-pink-800 border-b border-pink-200">Month 2 (í•µì‹¬ ë¡œì§)</th>
                        <th colspan="4" class="p-2 bg-amber-50 text-amber-800 border-b border-amber-200">Month 3 (ê³ ë„í™”/ì™„ë£Œ)</th>
                    </tr>
                    <!-- 2nd Header Row: Weeks -->
                    <tr class="text-xs">
                        <th class="p-1 border-r border-slate-200 w-10 bg-indigo-50">1ì£¼</th>
                        <th class="p-1 border-r border-slate-200 w-10 bg-indigo-50">2ì£¼</th>
                        <th class="p-1 border-r border-slate-200 w-10 bg-indigo-50">3ì£¼</th>
                        <th class="p-1 border-r border-slate-300 w-10 bg-indigo-50">4ì£¼</th>
                        
                        <th class="p-1 border-r border-slate-200 w-10 bg-pink-50">1ì£¼</th>
                        <th class="p-1 border-r border-slate-200 w-10 bg-pink-50">2ì£¼</th>
                        <th class="p-1 border-r border-slate-200 w-10 bg-pink-50">3ì£¼</th>
                        <th class="p-1 border-r border-slate-300 w-10 bg-pink-50">4ì£¼</th>

                        <th class="p-1 border-r border-slate-200 w-10 bg-amber-50">1ì£¼</th>
                        <th class="p-1 border-r border-slate-200 w-10 bg-amber-50">2ì£¼</th>
                        <th class="p-1 border-r border-slate-200 w-10 bg-amber-50">3ì£¼</th>
                        <th class="p-1 w-10 bg-amber-50">4ì£¼</th>
                    </tr>
                </thead>
                <tbody id="schedule-body">
                    <!-- Javascript will render rows here -->
                </tbody>
            </table>
        </div>
        
        <div class="p-4 bg-gray-50 text-xs text-gray-500 border-t text-right">
            * ë‚œì´ë„ 'í•˜': 1ê°œì›” ë‚´ ì™„ë£Œ ê°€ëŠ¥í•œ ì¡°íšŒ/CRUD ê¸°ëŠ¥ &nbsp;|&nbsp; ë‚œì´ë„ 'ìƒ': ë³µí•© ë¡œì§, ì™¸ë¶€ ì—°ë™, ëŒ€ìš©ëŸ‰ ì²˜ë¦¬ê°€ í•„ìš”í•œ ê¸°ëŠ¥
        </div>
    </div>

    <script>
        // Data Structure Organized by Phases
        const phases = [
            {
                id: "Phase 1",
                desc: "ê¸°ë°˜ êµ¬ì¶•",
                rows: [
                    { group: "ê³µí†µ/íšŒì›", task: "ì¢‹ì•„ìš”/íŒ”ë¡œìš°/ë¶ë§ˆí¬ (8-11), ì»¨í…ì¸  ì‹ ê³ /ì‚­ì œ (12-13), í”„ë¡œí•„ ë“±ë¡ (25)", difficulty: "í•˜", dev: "Dev A", start: 1, duration: 1 },
                    { group: "ê´€ë¦¬ì(ê¸°ì´ˆ)", task: "ë©”íƒ€ë°ì´í„°(íƒœê·¸/ë°°ì§€) ê´€ë¦¬ (120-128), ë©”ì¸ ë°°ë„ˆ ê´€ë¦¬ (129-131)", difficulty: "í•˜", dev: "Dev B", start: 1, duration: 1 },
                    { group: "ë§ˆì´í™ˆ", task: "í™œë™ì •ë³´, ë‚´ ì»¨í…ì¸ , íŒ”ë¡œìš° ê´€ë¦¬ (31-48), ì•Œë¦¼ ì„¤ì • UI (160)", difficulty: "í•˜", dev: "Dev A", start: 2, duration: 1 },
                    { group: "ê´€ë¦¬ì(íšŒì›)", task: "í¬ë¦¬ì—ì´í„° ê´€ë¦¬ (102-103), ì‹ ê³ /ê¸ˆì¹™ì–´ ê´€ë¦¬ (145-149)", difficulty: "í•˜", dev: "Dev B", start: 2, duration: 1 },
                    { group: "ì¡°íšŒ", task: "ë§¤ê±°ì§„/ìŠ¤í† ë¦¬ ìƒì„¸ ë° ëª©ë¡ (50-58), ë¦¬ë·° ëª©ë¡ ì¡°íšŒ (163)", difficulty: "í•˜", dev: "Dev A", start: 3, duration: 1 },
                    { group: "ê´€ë¦¬ì(ìš´ì˜)", task: "ì¸ê¸° ì½˜í…ì¸  íë ˆì´ì…˜ (132-141), ì‹ ê³  ê²Œì‹œë¬¼ ì²˜ë¦¬ (142-144)", difficulty: "í•˜", dev: "Dev B", start: 3, duration: 1 },
                    { group: "ì»¤ë®¤ë‹ˆí‹°", task: "ëŒ“ê¸€/ëŒ€ëŒ“ê¸€ CRUD (14-22), ë¦¬ë·° ë“±ë¡ (162)", difficulty: "í•˜", dev: "Dev A", start: 4, duration: 1 },
                    { group: "ê´€ë¦¬ì(ì¡°íšŒ)", task: "íˆ¬í‘œ/Q&A ë‚´ì—­ ì¡°íšŒ (104-115), ê´€ë¦¬ì ì•Œë¦¼ (161)", difficulty: "í•˜", dev: "Dev B", start: 4, duration: 1 }
                ]
            },
            {
                id: "Phase 2",
                desc: "í•µì‹¬ ê¸°ëŠ¥",
                rows: [
                    { group: "í¬ìŠ¤íŠ¸", task: "í¬ìŠ¤íŠ¸ CRUD + ë¯¸ë””ì–´ ì²˜ë¦¬ (59-69), SNS ê³µìœ  (1)", difficulty: "ìƒ", dev: "Dev A", start: 5, duration: 1 },
                    { group: "Q&A/íˆ¬í‘œ", task: "Q&A ë° A/B íˆ¬í‘œ ì§‘ê³„ ë¡œì§ (70-89), í¬ì¸íŠ¸ ì •ì±… ì„¤ê³„", difficulty: "ìƒ", dev: "Dev B", start: 5, duration: 1 },
                    { group: "ë©”ì¸/í”¼ë“œ", task: "ì¸ê¸° ì½˜í…ì¸  ì§‘ê³„ ì•Œê³ ë¦¬ì¦˜ (26-30), ê°œì¸í™” ëª©ë¡", difficulty: "ìƒ", dev: "Dev A", start: 6, duration: 1 },
                    { group: "í¬ì¸íŠ¸", task: "í¬ì¸íŠ¸ ì ë¦½/ì‚¬ìš© ë¬´ê²°ì„± ì²˜ë¦¬ (6-7), ì´ë²¤íŠ¸ ì°¸ì—¬ ë¡œì§", difficulty: "ìƒ", dev: "Dev B", start: 6, duration: 1 },
                    { group: "ê²€ìƒ‰", task: "í†µí•© ê²€ìƒ‰ ì—”ì§„(ES) ì—°ë™ ë° í•„í„°ë§ (95-101)", difficulty: "ìƒ", dev: "Dev A", start: 7, duration: 1 },
                    { group: "ë°°ì¹˜/ì•Œë¦¼", task: "íˆ¬í‘œ/ì´ë²¤íŠ¸ ì¢…ë£Œ ë°°ì¹˜ (4-5), ê´€ë¦¬ì ì´ë²¤íŠ¸ ìƒì„±", difficulty: "ìƒ", dev: "Dev B", start: 7, duration: 1 },
                    { group: "ì±„íŒ…(1)", task: "ì±„íŒ…ë°© ìƒì„±, ì°¸ì—¬ì ê´€ë¦¬, UI êµ¬í˜„ (150-152)", difficulty: "ìƒ", dev: "Dev A", start: 8, duration: 1 },
                    { group: "í€˜ìŠ¤íŠ¸(1)", task: "í€˜ìŠ¤íŠ¸ ìƒì„± ë° ìˆ˜í–‰ ì¡°ê±´ ê²€ì¦ ì—”ì§„ (164-165)", difficulty: "ìƒ", dev: "Dev B", start: 8, duration: 1 },
                    { group: "ì±„íŒ…(2)", task: "ì‹¤ì‹œê°„ ë©”ì‹œì§€ ì†¡ìˆ˜ì‹ (Socket), ì±„íŒ… ì‹ ê³  (153-157)", difficulty: "ìƒ", dev: "Dev A", start: 9, duration: 1 },
                    { group: "í€˜ìŠ¤íŠ¸(2)", task: "ë¦¬ì›Œë“œ ìë™ ì§€ê¸‰ ì‹œìŠ¤í…œ (166), ì»¤ìŠ¤í…€ ë´‡ ì—°ë™ (158)", difficulty: "ìƒ", dev: "Dev B", start: 9, duration: 1 },
                    { group: "ë´‡/ë§ˆë¬´ë¦¬", task: "ì‹ ê·œ ê°€ì… ë´‡ UI, UX í´ë¦¬ì‹± ë° ë²„ê·¸ ìˆ˜ì •", difficulty: "ì¤‘", dev: "Dev A", start: 10, duration: 1 },
                    { group: "ì•ˆì •í™”", task: "ëŒ€ìš©ëŸ‰ ì¿¼ë¦¬ íŠœë‹, ì¸ë±ì‹±, ë°°ì¹˜ ì•ˆì •í™”", difficulty: "ì¤‘", dev: "Dev B", start: 10, duration: 1 }
                ]
            },
            {
                id: "Phase 3",
                desc: "ì™„ë£Œ",
                rows: [
                    { group: "QA", task: "í†µí•© í…ŒìŠ¤íŠ¸, ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸, ë²„ê·¸ í—ŒíŒ…", difficulty: "ì¤‘", dev: "ê³µí†µ", start: 11, duration: 1 },
                    { group: "ë°°í¬", task: "í”„ë¡œë•ì…˜ ë°°í¬, ëª¨ë‹ˆí„°ë§ êµ¬ì¶•, ì¸ìˆ˜ì¸ê³„", difficulty: "ì¤‘", dev: "ê³µí†µ", start: 12, duration: 1 }
                ]
            }
        ];

        const tbody = document.getElementById('schedule-body');

        // Render Loop
        phases.forEach((phase, phaseIndex) => {
            const isLastPhase = phaseIndex === phases.length - 1;
            
            phase.rows.forEach((row, rowIndex) => {
                const tr = document.createElement('tr');
                const isLastRow = rowIndex === phase.rows.length - 1;
                
                // Styling for divider
                if (isLastRow && !isLastPhase) {
                    tr.classList.add('phase-divider');
                } else {
                    tr.classList.add('border-b', 'border-gray-100');
                }

                tr.className += " hover:bg-gray-50 transition-colors";

                // Lv1: Phase (Rowspan Logic)
                if (rowIndex === 0) {
                    const thPhase = document.createElement('td');
                    thPhase.rowSpan = phase.rows.length;
                    thPhase.className = "p-2 border-r border-slate-300 text-center font-bold text-slate-600 bg-slate-50";
                    thPhase.innerHTML = `<div class="phase-cell mx-auto h-full flex items-center justify-center">${phase.id}<br><span class="text-xs font-normal mt-2">${phase.desc}</span></div>`;
                    tr.appendChild(thPhase);
                }

                // Lv2: Group
                tr.innerHTML += `<td class="p-3 border-r border-slate-200 font-medium text-slate-700">${row.group}</td>`;
                
                // Lv3: Task
                tr.innerHTML += `<td class="p-3 border-r border-slate-200 text-slate-600 text-xs leading-relaxed">${row.task}</td>`;
                
                // Lv4: Difficulty
                let diffColor = row.difficulty === "ìƒ" ? "bg-red-100 text-red-700 border-red-200" : 
                               (row.difficulty === "ì¤‘" ? "bg-amber-100 text-amber-700 border-amber-200" : "bg-blue-50 text-blue-700 border-blue-200");
                tr.innerHTML += `<td class="p-3 border-r border-slate-200 text-center"><span class="px-2 py-1 rounded-full text-xs border ${diffColor}">${row.difficulty}</span></td>`;
                
                // Lv5: Developer
                let devColor = row.dev.includes("Dev A") ? "text-blue-600 font-bold" : 
                               (row.dev.includes("Dev B") ? "text-emerald-600 font-bold" : "text-gray-500 font-medium");
                tr.innerHTML += `<td class="p-3 border-r border-slate-300 text-center text-xs ${devColor}">${row.dev}</td>`;

                // Gantt Chart Cells (12 Weeks)
                for (let w = 1; w <= 12; w++) {
                    let cellClass = "p-1 text-center border-r border-slate-100 relative h-10";
                    if (w % 4 === 0) cellClass = "p-1 text-center border-r border-slate-300 relative h-10"; // Month separator
                    
                    let content = "";
                    
                    if (w >= row.start && w < row.start + row.duration) {
                        let barColor = "bg-gray-400";
                        if (row.dev.includes("Dev A")) barColor = "bg-blue-500 shadow-blue-200";
                        if (row.dev.includes("Dev B")) barColor = "bg-emerald-500 shadow-emerald-200";
                        
                        // Rounding corners based on duration
                        let rounded = "rounded";
                        content = `<div class="gantt-bar h-6 w-full ${barColor} ${rounded} shadow mx-auto"></div>`;
                    }
                    
                    tr.innerHTML += `<td class="${cellClass}">${content}</td>`;
                }

                tbody.appendChild(tr);
            });
        });
    </script>
</body>
</html>
